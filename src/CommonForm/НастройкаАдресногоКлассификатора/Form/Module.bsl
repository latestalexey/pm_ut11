
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Элементы.СостояниеРегистра.Заголовок = ПолучитьСостояниеАдресногоКлассификатора();
	
КонецПроцедуры

&НаСервереБезКонтекста
Функция ПолучитьСостояниеАдресногоКлассификатора()
	
	ЧислоЗаполненныхАдресныхОбъектов = АдресныйКлассификатор.ЧислоЗаполненныхАдресныхОбъектов();
	Если ЧислоЗаполненныхАдресныхОбъектов > 0 Тогда
		Заголовок = 
				СтроковыеФункцииКлиентСервер.ПодставитьПараметрыВСтроку(
							НСтр("ru = 'Объектов в адресном классификаторе: %1.'"),
							Строка(ЧислоЗаполненныхАдресныхОбъектов));
	Иначе
		Заголовок = НСтр("ru = 'Адресный классификатор не заполнен.'");
	КонецЕсли;
	
	Возврат Заголовок;
	
КонецФункции

&НаКлиенте
Процедура ЗагрузитьАдресныйКлассификатор(Команда)
	
	АдресныйКлассификаторКлиент.ЗагрузитьАдресныйКлассификатор();
	
КонецПроцедуры

&НаКлиенте
Процедура ОчиститьАдресныйКлассификатор(Команда)
	
	АдресныйКлассификаторКлиент.ОчиститьКлассификатор();
	
КонецПроцедуры

&НаКлиенте
Процедура ПроверитьОбновление(Команда)
	
	АдресныйКлассификаторКлиент.ОпределитьНеобходимостьОбновленияАдресныхОбъектов();
	
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	
	Если ИмяСобытия = "ИзменениеАдресногоКлассификатора" Тогда
		Элементы.СостояниеРегистра.Заголовок = ПолучитьСостояниеАдресногоКлассификатора();
	КонецЕсли;
	
КонецПроцедуры
